{"ast":null,"code":"// src/Heatmap.js\nimport React,{useRef,useEffect}from'react';import L from'leaflet';import'leaflet/dist/leaflet.css';import'leaflet.heat/dist/leaflet-heat.js';import'../Styling/Heatmap.css';// Ensure this CSS file is included for any custom styles\nimport{jsx as _jsx}from\"react/jsx-runtime\";const Heatmap=()=>{const mapRef=useRef(null);useEffect(()=>{// Ensure the map is initialized only once\nif(!mapRef.current._leaflet_id){// Initialize the map\nconst map=L.map(mapRef.current,{center:[9.0820,8.6753],// Center the map on Africa\nzoom:3// Set initial zoom level\n});// Add tile layer for map background\nL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);// Fetch and add GeoJSON data for countries\nfetch('https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson').then(response=>response.json()).then(geoData=>{L.geoJSON(geoData,{onEachFeature:(feature,layer)=>{// Add a click event to each country\nlayer.on('click',e=>{const countryName=feature.properties.ADMIN;// Assuming 'ADMIN' is the country name\nconst{lat,lng}=e.latlng;// Show a popup with country name and coordinates\nL.popup().setLatLng([lat,lng]).setContent(`<strong>${countryName}</strong><br>Coordinates: ${lat.toFixed(2)}, ${lng.toFixed(2)}`).openOn(map);});},style:{color:'#3388ff',// Boundary color\nweight:2,fillOpacity:0.1}}).addTo(map);});// Heatmap data example\nconst heatData=[[9.0820,8.6753,0.5],// Example points\n[10.7749,7.4194,0.7],[8.7949,9.4294,0.6]];// Add heatmap layer\nL.heatLayer(heatData,{radius:25}).addTo(map);// Add map legend for heat intensity\nconst legend=L.control({position:'bottomright'});legend.onAdd=function(){// Create a div element for the legend\nconst div=L.DomUtil.create('div','info legend');const grades=[0,0.1,0.2,0.3,0.4,0.5];// Define intensity levels\nconst colors=['#0000ff','#00ffff','#00ff00','#ffff00','#ff8000','#ff0000'];// Colors from blue to red\ndiv.innerHTML+='<strong>Heat Intensity</strong><br>';// Loop through the grades and create colored squares and labels\nfor(let i=0;i<grades.length;i++){div.innerHTML+=`<i style=\"background:${colors[i]}; width: 18px; height: 18px; display:inline-block;\"></i> `+grades[i]+(grades[i+1]?'&ndash;'+grades[i+1]+'<br>':'+');}return div;};legend.addTo(map);// Cleanup function to properly remove the map when the component unmounts\nreturn()=>{if(map){map.remove();}};}},[]);// Return the map container with specific dimensions\nreturn/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{height:'500px',width:'100%'}});};export default Heatmap;","map":{"version":3,"names":["React","useRef","useEffect","L","jsx","_jsx","Heatmap","mapRef","current","_leaflet_id","map","center","zoom","tileLayer","attribution","addTo","fetch","then","response","json","geoData","geoJSON","onEachFeature","feature","layer","on","e","countryName","properties","ADMIN","lat","lng","latlng","popup","setLatLng","setContent","toFixed","openOn","style","color","weight","fillOpacity","heatData","heatLayer","radius","legend","control","position","onAdd","div","DomUtil","create","grades","colors","innerHTML","i","length","remove","ref","height","width"],"sources":["C:/Users/fabri/Envs/npip/network_platform_react/src/Components/Heatmap.js"],"sourcesContent":["// src/Heatmap.js\r\nimport React, { useRef, useEffect } from 'react';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'leaflet.heat/dist/leaflet-heat.js';\r\nimport '../Styling/Heatmap.css'; // Ensure this CSS file is included for any custom styles\r\n\r\nconst Heatmap = () => {\r\n  const mapRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Ensure the map is initialized only once\r\n    if (!mapRef.current._leaflet_id) {\r\n      // Initialize the map\r\n      const map = L.map(mapRef.current, {\r\n        center: [9.0820, 8.6753], // Center the map on Africa\r\n        zoom: 3, // Set initial zoom level\r\n      });\r\n\r\n      // Add tile layer for map background\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n      }).addTo(map);\r\n\r\n      // Fetch and add GeoJSON data for countries\r\n      fetch('https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson')\r\n        .then(response => response.json())\r\n        .then(geoData => {\r\n          L.geoJSON(geoData, {\r\n            onEachFeature: (feature, layer) => {\r\n              // Add a click event to each country\r\n              layer.on('click', (e) => {\r\n                const countryName = feature.properties.ADMIN; // Assuming 'ADMIN' is the country name\r\n                const { lat, lng } = e.latlng;\r\n\r\n                // Show a popup with country name and coordinates\r\n                L.popup()\r\n                  .setLatLng([lat, lng])\r\n                  .setContent(`<strong>${countryName}</strong><br>Coordinates: ${lat.toFixed(2)}, ${lng.toFixed(2)}`)\r\n                  .openOn(map);\r\n              });\r\n            },\r\n            style: {\r\n              color: '#3388ff', // Boundary color\r\n              weight: 2,\r\n              fillOpacity: 0.1\r\n            }\r\n          }).addTo(map);\r\n        });\r\n\r\n      // Heatmap data example\r\n      const heatData = [\r\n        [9.0820, 8.6753, 0.5],  // Example points\r\n        [10.7749, 7.4194, 0.7],\r\n        [8.7949, 9.4294, 0.6]\r\n      ];\r\n\r\n      // Add heatmap layer\r\n      L.heatLayer(heatData, { radius: 25 }).addTo(map);\r\n\r\n      // Add map legend for heat intensity\r\n      const legend = L.control({ position: 'bottomright' });\r\n\r\n      legend.onAdd = function () {\r\n        // Create a div element for the legend\r\n        const div = L.DomUtil.create('div', 'info legend');\r\n        const grades = [0, 0.1, 0.2, 0.3, 0.4, 0.5]; // Define intensity levels\r\n        const colors = ['#0000ff', '#00ffff', '#00ff00', '#ffff00', '#ff8000', '#ff0000']; // Colors from blue to red\r\n\r\n        div.innerHTML += '<strong>Heat Intensity</strong><br>';\r\n\r\n        // Loop through the grades and create colored squares and labels\r\n        for (let i = 0; i < grades.length; i++) {\r\n          div.innerHTML +=\r\n            `<i style=\"background:${colors[i]}; width: 18px; height: 18px; display:inline-block;\"></i> ` +\r\n            grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');\r\n        }\r\n\r\n        return div;\r\n      };\r\n\r\n      legend.addTo(map);\r\n\r\n      // Cleanup function to properly remove the map when the component unmounts\r\n      return () => {\r\n        if (map) {\r\n          map.remove();\r\n        }\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  // Return the map container with specific dimensions\r\n  return <div ref={mapRef} style={{ height: '500px', width: '100%' }} />;\r\n};\r\n\r\nexport default Heatmap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}